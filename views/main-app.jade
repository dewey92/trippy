extends ./layout

block body
	#wrap-app

	//- src react
	script(src="/js/JSXTransformer.js")
	script(src="/js/react.min.js")

	//- src main-app
	script(src="/js/DestModel.js")
	script(type="text/jsx", src="/js/map-component.js")
	script(type="text/jsx", src="/js/main-app.js")

	script(src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places")
	//- script(type="application/javascript").
	//- 	var map;
	//- 	var infowindow;

	//- 	function initialize() {
	//- 		// khusus untuk kota malang dulu
	//- 		//var loc = new google.maps.LatLng(-6.176402,106.82159);
	//- 		var loc = new google.maps.LatLng(-7.9812985,112.6319264);
	//- 		var mapOptions = {
	//- 			center: loc,
	//- 			zoom: 17,
	//- 			scrollwheel: true,
	//- 			zoomControl: true,
	//- 			panControl: false,
	//- 			streetViewControl: false,
	//- 			mapTypeControl: false,
	//- 			overviewMapControl: false,
	//- 			clickable: false
	//- 		};

	//- 		map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

	//- 		// Atur search box buat nyari tempat
	//- 		var input = document.getElementById('search-place');
	//- 		var autocomplete = new google.maps.places.Autocomplete(input);
	//- 		autocomplete.bindTo('bounds', map);

	//- 		var marker = new google.maps.Marker({
	//- 			position: loc,
	//- 			map: map,
	//- 			title: 'Event'
	//- 		});

	//- 		google.maps.event.addListener(autocomplete, 'place_changed', function() {
	//- 			infowindow.close();
	//- 			marker.setVisible(false);
	//- 			var place = autocomplete.getPlace();
	//- 			if (!place.geometry) {
	//- 				return;
	//- 			}

	//- 			// If the place has a geometry, then present it on a map.
	//- 			if (place.geometry.viewport) {
	//- 				map.fitBounds(place.geometry.viewport);
	//- 			} else {
	//- 				map.setCenter(place.geometry.location);
	//- 				map.setZoom(17);  // Why 17? Because it looks good.
	//- 			}
	//- 			marker.setIcon(/** @type {google.maps.Icon} */({
	//- 				url: place.icon,
	//- 				size: new google.maps.Size(71, 71),
	//- 				origin: new google.maps.Point(0, 0),
	//- 				anchor: new google.maps.Point(17, 34),
	//- 				scaledSize: new google.maps.Size(35, 35)
	//- 			}));
	//- 			marker.setPosition(place.geometry.location);
	//- 			marker.setVisible(true);

	//- 			var address = '';
	//- 			if (place.address_components) {
	//- 				address = [
	//- 					(place.address_components[0] && place.address_components[0].short_name || ''),
	//- 					(place.address_components[1] && place.address_components[1].short_name || ''),
	//- 					(place.address_components[2] && place.address_components[2].short_name || '')
	//- 				].join(' ');
	//- 			}

	//- 			// Tes isi place nya apa
	//- 			console.log(place);

	//- 			infowindow.setContent(
	//- 				'<div><strong>' + place.name + '</strong><br>' + address +
	//- 				'<p>Rating ' + place.rating + ' dari ' + place.user_ratings_total + '</p>'
	//- 				//'<img src="'+ place.photos[0].getUrl() +'" height="'+ place.photos[0].height +'" width="'+ place.photos[0].width +'" />'
	//- 			);
	//- 			infowindow.open(map, marker);
	//- 		});

	//- 		var request = {
	//- 			location: loc,
	//- 			radius: '5000',
	//- 			types: [] // semua
	//- 		};

	//- 		infowindow = new google.maps.InfoWindow();
	//- 		service = new google.maps.places.PlacesService(map);
	//- 		service.nearbySearch(request, function callback(results, status) {
	//- 			if (status == google.maps.places.PlacesServiceStatus.OK) {
	//- 				for (var i = 0; i < results.length; i++) {
	//- 					var place = results[i];
	//- 					createMarker(place);
	//- 				}
	//- 			}
	//- 		});
	//- 	}

	//- 	function createMarker(place) {
	//- 		var placeLoc = place.geometry.location;
	//- 		var marker = new google.maps.Marker({
	//- 			map: map,
	//- 			position: placeLoc
	//- 			title: 'Event Click'
	//- 		});

	//- 		google.maps.event.addListener(marker, 'click', function() {
	//- 			infowindow.setContent(place.name);
	//- 			infowindow.open(map, this);
	//- 		});
	//- 	}

	//- 	google.maps.event.addDomListener(window, 'load', initialize);